var DoWaitForPromiseTask=function(e,n,o){this.perform=function(t){e.then(function(e){"undefined"!=typeof n&&n(e),t.release()},function(e){"undefined"!=typeof o&&o(e),t.release()})},this.cancel=function(n){"undefined"!=typeof e.cancel&&e.cancel(),n.release()}};Sequencer.prototype.doWaitForPromise=function(e,n,o){return this.push(new DoWaitForPromiseTask(e,n,o)),this};