{"version":3,"sources":["webpack:///webpack/bootstrap 1683e6cbfdf15e80075a","webpack:///./sequencer.js","webpack:///./scripts/sequencer.js","webpack:///./~/process/browser.js","webpack:///./~/handles.js/dist/handles.js","webpack:///./scripts/extensions/do-extension.js","webpack:///./scripts/extensions/do-sequence-extension.js","webpack:///./scripts/extensions/do-wait-extension.js","webpack:///./scripts/extensions/do-wait-for-handle-extension.js","webpack:///./scripts/extensions/do-wait-for-promise-extension.js","webpack:///./scripts/extensions/do-wait-for-release-extension.js","webpack:///./scripts/extensions/do-wait-for-releases-extension.js"],"names":["Handle","require","Sequencer","sequence","currentTask","currentHandle","processing","push","task","resumeProcessing","clear","cancel","process","finishProcessing","length","handle","shift","perform","module","exports","DoTask","action","release","extend","sequencerPrototype","do","DoSequenceTask","that","sequencer","doSequence","DoWaitTask","duration","timeout","setTimeout","clearTimeout","doWait","DoWaitForHandleTask","handleToWaitFor","isReleased","addOnReleaseHandler","doWaitForHandle","DoWaitForPromiseTask","promise","onFulfilled","onRejected","then","value","reason","doWaitForPromise","DoWaitForReleaseTask","doWaitForRelease","CounterHandle","DoWaitForReleasesTask","count","counterHandle","releaseAll","doWaitForReleases"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;ACVA,KAAIA,SAAS,mBAAAC,CAAQ,CAAR,EAAsBD,MAAnC;;AAEA,KAAIE,YAAY,SAAZA,SAAY,GAAY;AAC1B,OAAIC,WAAW,EAAf;AACA,OAAIC,cAAc,IAAlB;AACA,OAAIC,gBAAgB,IAApB;AACA,OAAIC,aAAa,KAAjB;;AAEA,QAAKC,IAAL,GAAY,UAAUC,IAAV,EAAgB;AAC1BL,cAASI,IAAT,CAAcC,IAAd;AACAC;AACD,IAHD;;AAKA,QAAKC,KAAL,GAAa,YAAY;AACvBP,gBAAW,EAAX;AACA,SAAIC,gBAAgB,IAAhB,IAAwB,OAAQA,YAAYO,MAApB,KAAgC,WAA5D,EAAyE;AACvEP,mBAAYO,MAAZ,CAAmBN,aAAnB;AACD;AACF,IALD;;AAOA,YAASI,gBAAT,GAA4B;AAC1B,SAAIH,UAAJ,EAAgB;AAChBA,kBAAa,IAAb;AACAM;AACD;;AAED,YAASC,gBAAT,GAA4B;AAC1B,SAAIV,SAASW,MAAT,KAAoB,CAAxB,EAA2B,OAAO,KAAP;AAC3BR,kBAAa,KAAb;AACA,YAAO,IAAP;AACD;;AAED,YAASM,OAAT,GAAmB;AACjB,SAAIC,kBAAJ,EAAwB;;AAExB;AACA,SAAIE,SAAS,IAAIf,MAAJ,CAAW,YAAY;AAClCI,qBAAc,IAAd;AACAC,uBAAgB,IAAhB;AACAO;AACD,MAJY,CAAb;;AAMA;AACA;AACA,SAAIJ,OAAOL,SAASa,KAAT,EAAX;AACAZ,mBAAcI,IAAd;AACAH,qBAAgBU,MAAhB;AACAP,UAAKS,OAAL,CAAaF,MAAb;AACD;AACF,EA/CD;;AAiDAG,QAAOC,OAAP,GAAiBjB,SAAjB,C;;;;;;;ACnDA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sCAAqC;;AAErC;AACA;AACA;;AAEA,4BAA2B;AAC3B;AACA;AACA;AACA,6BAA4B,UAAU;;;;;;;ACvLtC;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA,QAAO;AACP;AACA;;AAEA;;AAEA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","file":"sequencer.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1683e6cbfdf15e80075a","let Sequencer = require(\"scripts/sequencer.js\");\r\n\r\nrequire(\"scripts/extensions/do-extension\").extend(Sequencer.prototype);\r\nrequire(\"scripts/extensions/do-sequence-extension\").extend(Sequencer.prototype);\r\nrequire(\"scripts/extensions/do-wait-extension\").extend(Sequencer.prototype);\r\nrequire(\"scripts/extensions/do-wait-for-handle-extension\").extend(Sequencer.prototype);\r\nrequire(\"scripts/extensions/do-wait-for-promise-extension\").extend(Sequencer.prototype);\r\nrequire(\"scripts/extensions/do-wait-for-release-extension\").extend(Sequencer.prototype);\r\nrequire(\"scripts/extensions/do-wait-for-releases-extension\").extend(Sequencer.prototype);\r\n\r\nmodule.exports = Sequencer;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sequencer.js\n// module id = 0\n// module chunks = 0","let Handle = require(\"handles.js\").Handle;\r\n\r\nlet Sequencer = function () {\r\n  let sequence = [];\r\n  let currentTask = null;\r\n  let currentHandle = null;\r\n  let processing = false;\r\n\r\n  this.push = function (task) {\r\n    sequence.push(task);\r\n    resumeProcessing();\r\n  };\r\n\r\n  this.clear = function () {\r\n    sequence = [];\r\n    if (currentTask !== null && typeof (currentTask.cancel) !== \"undefined\") {\r\n      currentTask.cancel(currentHandle);\r\n    }\r\n  };\r\n\r\n  function resumeProcessing() {\r\n    if (processing) return;\r\n    processing = true;\r\n    process();\r\n  }\r\n\r\n  function finishProcessing() {\r\n    if (sequence.length !== 0) return false;\r\n    processing = false;\r\n    return true;\r\n  }\r\n\r\n  function process() {\r\n    if (finishProcessing()) return;\r\n\r\n    // When the handle is released, we'll process the next task\r\n    let handle = new Handle(function () {\r\n      currentTask = null;\r\n      currentHandle = null;\r\n      process();\r\n    });\r\n\r\n    // Perform the next task, providing it with the handle it can\r\n    // release to signify that its job is done\r\n    let task = sequence.shift();\r\n    currentTask = task;\r\n    currentHandle = handle;\r\n    task.perform(handle);\r\n  }\r\n};\r\n\r\nmodule.exports = Sequencer;\r\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/sequencer.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 2\n// module chunks = 0","module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = {\r\n\t  Handle: __webpack_require__(1),\r\n\t  CounterHandle: __webpack_require__(2)\r\n\t};\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar Handle = function Handle(onRelease) {\n\t  var that = this;\n\t  var onReleaseHandlers = [];\n\t\n\t  if (!(typeof onRelease === \"undefined\")) onReleaseHandlers.push(onRelease);\n\t\n\t  function callReleaseHandlers() {\n\t    onReleaseHandlers.forEach(function (handler) {\n\t      return handler();\n\t    });\n\t  }\n\t\n\t  this.isReleased = false;\n\t\n\t  this.addOnReleaseHandler = function (handler) {\n\t    onReleaseHandlers.push(handler);\n\t  };\n\t\n\t  this.release = function () {\n\t    if (that.isReleased) return;\n\t    that.isReleased = true;\n\t    callReleaseHandlers();\n\t  };\n\t};\n\t\n\tmodule.exports = Handle;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar CounterHandle = function CounterHandle(count, onRelease) {\n\t  var that = this;\n\t  var onReleaseHandlers = [];\n\t\n\t  if (count === 0) throw new Error(\"Count must be greater than zero!\");\n\t\n\t  if (!(typeof onRelease === \"undefined\")) onReleaseHandlers.push(onRelease);\n\t\n\t  function callReleaseHandlers() {\n\t    onReleaseHandlers.forEach(function (handler) {\n\t      return handler();\n\t    });\n\t  }\n\t\n\t  this.isReleased = false;\n\t  this.releaseCount = 0;\n\t\n\t  this.addOnReleaseHandler = function (handler) {\n\t    onReleaseHandlers.push(handler);\n\t  };\n\t\n\t  this.release = function () {\n\t    if (that.isReleased) return;\n\t    that.releaseCount += 1;\n\t    if (that.releaseCount === count) {\n\t      that.isReleased = true;\n\t      callReleaseHandlers();\n\t    }\n\t  };\n\t\n\t  this.releaseAll = function () {\n\t    if (that.isReleased) return;\n\t    that.isReleased = true;\n\t    callReleaseHandlers();\n\t  };\n\t};\n\t\n\tmodule.exports = CounterHandle;\n\n/***/ })\n/******/ ]);\n//# sourceMappingURL=handles.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/handles.js/dist/handles.js\n// module id = 3\n// module chunks = 0","let DoTask = function (action) {\r\n  this.perform = function (handle) {\r\n    action();\r\n    handle.release();\r\n  };\r\n};\r\n\r\nmodule.exports = {\r\n  extend: function (sequencerPrototype) {\r\n    sequencerPrototype.do = function (action) {\r\n      this.push(new DoTask(action));\r\n      return this;\r\n    };\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/extensions/do-extension.js","let Sequencer = require(\"../sequencer\");\r\n\r\nlet DoSequenceTask = function (action) {\r\n  let that = this;\r\n\r\n  this.sequencer = new Sequencer();\r\n\r\n  this.perform = function (handle) {\r\n    action(that.sequencer); // Let the caller enqueue his own subtasks\r\n    that.sequencer.do(handle.release); // Enqueue a final task to release the sequence task's handle\r\n  };\r\n  this.cancel = function (handle) {\r\n    that.sequencer.clear();\r\n    handle.release();\r\n  };\r\n};\r\n\r\nmodule.exports = {\r\n  extend: function (sequencerPrototype) {\r\n    sequencerPrototype.doSequence = function (action) {\r\n      this.push(new DoSequenceTask(action));\r\n      return this;\r\n    };\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/extensions/do-sequence-extension.js","let DoWaitTask = function (duration) {\r\n  let that = this;\r\n\r\n  this.timeout = null;\r\n\r\n  this.perform = function (handle) {\r\n    if (duration < 0.00001) {\r\n      handle.release();\r\n      return;\r\n    }\r\n    that.timeout = setTimeout(handle.release, duration);\r\n  };\r\n  this.cancel = function (handle) {\r\n    if (that.timeout !== null) clearTimeout(that.timeout);\r\n    handle.release();\r\n  };\r\n};\r\n\r\nmodule.exports = {\r\n  extend: function (sequencerPrototype) {\r\n    sequencerPrototype.doWait = function (duration) {\r\n      this.push(new DoWaitTask(duration));\r\n      return this;\r\n    };\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/extensions/do-wait-extension.js","let DoWaitForHandleTask = function (handleToWaitFor) {\r\n  this.perform = function (handle) {\r\n    if (handleToWaitFor.isReleased) {\r\n      handle.release();\r\n      return;\r\n    }\r\n    handleToWaitFor.addOnReleaseHandler(handle.release);\r\n  };\r\n  this.cancel = function (handle) {\r\n    handle.release();\r\n  };\r\n};\r\n\r\nmodule.exports = {\r\n  extend: function (sequencerPrototype) {\r\n    sequencerPrototype.doWaitForHandle = function (handleToWaitFor) {\r\n      this.push(new DoWaitForHandleTask(handleToWaitFor));\r\n      return this;\r\n    };\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/extensions/do-wait-for-handle-extension.js","// May require an ES6 promises polyfill such as \"es6-promise\", depending on the environment\r\n\r\nlet DoWaitForPromiseTask = function (promise, onFulfilled, onRejected) {\r\n  this.perform = function (handle) {\r\n    promise.then(value => {\r\n      if (typeof (onFulfilled) !== \"undefined\") onFulfilled(value);\r\n      handle.release();\r\n    }, reason => {\r\n      if (typeof (onRejected) !== \"undefined\") onRejected(reason);\r\n      handle.release();\r\n    });\r\n  };\r\n  this.cancel = function (handle) {\r\n    // Allows monkey-patching an ES6 promise with a cancel function that will\r\n    // automatically be invoked by the sequencer when it cancels this task.\r\n    // Details: http://stackoverflow.com/a/25346945/167983\r\n    if (typeof (promise.cancel) !== \"undefined\") promise.cancel();\r\n    handle.release();\r\n  };\r\n};\r\n\r\nmodule.exports = {\r\n  extend: function (sequencerPrototype) {\r\n    sequencerPrototype.doWaitForPromise = function (promise, onFulfilled, onRejected) {\r\n      this.push(new DoWaitForPromiseTask(promise, onFulfilled, onRejected));\r\n      return this;\r\n    };\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/extensions/do-wait-for-promise-extension.js","let DoWaitForReleaseTask = function (action) {\r\n  this.perform = function (handle) {\r\n    // The caller is provided with the release() function directly.\r\n    // The use of an handle is an internal implementation detail.\r\n    action(handle.release);\r\n  };\r\n  this.cancel = function (handle) {\r\n    handle.release();\r\n  };\r\n};\r\n\r\nmodule.exports = {\r\n  extend: function (sequencerPrototype) {\r\n    sequencerPrototype.doWaitForRelease = function (action) {\r\n      this.push(new DoWaitForReleaseTask(action));\r\n      return this;\r\n    };\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/extensions/do-wait-for-release-extension.js","let CounterHandle = require(\"handles.js\").CounterHandle;\r\n\r\nlet DoWaitForReleasesTask = function (count, action) {\r\n  let that = this;\r\n\r\n  this.counterHandle = new CounterHandle(count);\r\n\r\n  this.perform = function (handle) {\r\n    // When the counter handle is released for the last time, the sequencer handle is released too.\r\n    that.counterHandle.addOnReleaseHandler(handle.release);\r\n\r\n    // The caller is provided with the CounterHandle release() function directly.\r\n    // The use of a CounterHandle is an internal implementation detail.\r\n    action(that.counterHandle.release);\r\n  };\r\n  this.cancel = function (handle) {\r\n    that.counterHandle.releaseAll();\r\n  };\r\n};\r\n\r\nmodule.exports = {\r\n  extend: function (sequencerPrototype) {\r\n    sequencerPrototype.doWaitForReleases = function (count, action) {\r\n      this.push(new DoWaitForReleasesTask(count, action));\r\n      return this;\r\n    };\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/extensions/do-wait-for-releases-extension.js"],"sourceRoot":""}