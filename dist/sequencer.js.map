{"version":3,"sources":["webpack:///webpack/bootstrap d0afcdba0b8a2b7b2d8c","webpack:///./sequencer.js","webpack:///./scripts/sequencer.js","webpack:///./~/process/browser.js","webpack:///./scripts/handle.js","webpack:///./scripts/extensions/do-extension.js","webpack:///./scripts/extensions/do-wait-extension.js","webpack:///./scripts/extensions/do-wait-for-handle-extension.js","webpack:///./scripts/extensions/do-wait-for-promise-extension.js","webpack:///./scripts/extensions/do-with-handle-extension.js"],"names":["Handle","require","Sequencer","sequence","currentTask","currentHandle","processing","push","task","resumeProcessing","clear","cancel","process","finishProcessing","length","handle","shift","perform","extend","prototype","module","exports","onRelease","self","onReleaseHandlers","isReleased","addOnReleaseHandler","handler","release","forEach","DoTask","action","sequencerPrototype","do","DoWaitTask","duration","timeout","setTimeout","clearTimeout","doWait","DoWaitForHandleTask","handleToWaitFor","doWaitForHandle","DoWaitForPromiseTask","promise","onFulfilled","onRejected","then","value","reason","doWaitForPromise","DoWithHandleTask","doWithHandle"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;;;;;;;;ACAA,KAAIA,SAAS,mBAAAC,CAAQ,CAAR,CAAb;;AAEA,KAAIC,YAAY,SAAZA,SAAY,GAAY;AAC1B,OAAIC,WAAW,EAAf;AACA,OAAIC,cAAc,IAAlB;AACA,OAAIC,gBAAgB,IAApB;AACA,OAAIC,aAAa,KAAjB;;AAEA,QAAKC,IAAL,GAAY,UAAUC,IAAV,EAAgB;AAC1BL,cAASI,IAAT,CAAcC,IAAd;AACAC;AACD,IAHD;;AAKA,QAAKC,KAAL,GAAa,YAAY;AACvBP,gBAAW,EAAX;AACA,SAAIC,gBAAgB,IAAhB,IAAwB,OAAQA,YAAYO,MAApB,KAAgC,WAA5D,EAAyE;AACvEP,mBAAYO,MAAZ,CAAmBN,aAAnB;AACD;AACF,IALD;;AAOA,YAASI,gBAAT,GAA4B;AAC1B,SAAIH,UAAJ,EAAgB;AAChBA,kBAAa,IAAb;AACAM;AACD;;AAED,YAASC,gBAAT,GAA4B;AAC1B,SAAIV,SAASW,MAAT,KAAoB,CAAxB,EAA2B,OAAO,KAAP;AAC3BR,kBAAa,KAAb;AACA,YAAO,IAAP;AACD;;AAED,YAASM,OAAT,GAAmB;AACjB,SAAIC,kBAAJ,EAAwB;;AAExB;AACA,SAAIE,SAAS,IAAIf,MAAJ,CAAW,YAAY;AAClCI,qBAAc,IAAd;AACAC,uBAAgB,IAAhB;AACAO;AACD,MAJY,CAAb;;AAMA;AACA;AACA,SAAIJ,OAAOL,SAASa,KAAT,EAAX;AACAZ,mBAAcI,IAAd;AACAH,qBAAgBU,MAAhB;AACAP,UAAKS,OAAL,CAAaF,MAAb;AACD;AACF,EA/CD;;AAiDA,oBAAAd,CAAQ,CAAR,EAAqCiB,MAArC,CAA4ChB,UAAUiB,SAAtD;AACA,oBAAAlB,CAAQ,CAAR,EAA0CiB,MAA1C,CAAiDhB,UAAUiB,SAA3D;AACA,oBAAAlB,CAAQ,CAAR,EAAqDiB,MAArD,CAA4DhB,UAAUiB,SAAtE;AACA,oBAAAlB,CAAQ,CAAR,EAAsDiB,MAAtD,CAA6DhB,UAAUiB,SAAvE;AACA,oBAAAlB,CAAQ,CAAR,EAAiDiB,MAAjD,CAAwDhB,UAAUiB,SAAlE;;AAEAjB,WAAUF,MAAV,GAAmBA,MAAnB,C,CAA2B;;AAE3BoB,QAAOC,OAAP,GAAiBnB,SAAjB,C;;;;;;;AC3DA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sCAAqC;;AAErC;AACA;AACA;;AAEA,4BAA2B;AAC3B;AACA;AACA;AACA,6BAA4B,UAAU;;;;;;;;;ACvLtC,KAAIF,SAAS,SAATA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","file":"sequencer.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d0afcdba0b8a2b7b2d8c","module.exports = require(\"scripts/sequencer.js\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sequencer.js\n// module id = 0\n// module chunks = 0","let Handle = require(\"./handle\");\n\nlet Sequencer = function () {\n  let sequence = [];\n  let currentTask = null;\n  let currentHandle = null;\n  let processing = false;\n\n  this.push = function (task) {\n    sequence.push(task);\n    resumeProcessing();\n  };\n\n  this.clear = function () {\n    sequence = [];\n    if (currentTask !== null && typeof (currentTask.cancel) !== \"undefined\") {\n      currentTask.cancel(currentHandle);\n    }\n  };\n\n  function resumeProcessing() {\n    if (processing) return;\n    processing = true;\n    process();\n  }\n\n  function finishProcessing() {\n    if (sequence.length !== 0) return false;\n    processing = false;\n    return true;\n  }\n\n  function process() {\n    if (finishProcessing()) return;\n\n    // When the handle is released, we'll process the next task\n    let handle = new Handle(function () {\n      currentTask = null;\n      currentHandle = null;\n      process();\n    });\n\n    // Perform the next task, providing it with the handle it can\n    // release to signify that its job is done\n    let task = sequence.shift();\n    currentTask = task;\n    currentHandle = handle;\n    task.perform(handle);\n  }\n};\n\nrequire(\"./extensions/do-extension\").extend(Sequencer.prototype);\nrequire(\"./extensions/do-wait-extension\").extend(Sequencer.prototype);\nrequire(\"./extensions/do-wait-for-handle-extension\").extend(Sequencer.prototype);\nrequire(\"./extensions/do-wait-for-promise-extension\").extend(Sequencer.prototype);\nrequire(\"./extensions/do-with-handle-extension\").extend(Sequencer.prototype);\n\nSequencer.Handle = Handle; // Expose the Handle type in the API\n\nmodule.exports = Sequencer;\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/sequencer.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 2\n// module chunks = 0","let Handle = function (onRelease) {\n  let self = this;\n  let onReleaseHandlers = [];\n\n  if (!(typeof onRelease === \"undefined\"))\n    onReleaseHandlers.push(onRelease);\n\n  this.isReleased = false;\n\n  this.addOnReleaseHandler = function (handler) {\n    onReleaseHandlers.push(handler);\n  };\n\n  this.release = function () {\n    if (self.isReleased) return;\n    self.isReleased = true;\n    onReleaseHandlers.forEach(function (handler) { handler(); });\n  };\n};\n\nmodule.exports = Handle;\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/handle.js","let DoTask = function (action) {\n  this.perform = function (handle) {\n    action();\n    handle.release();\n  };\n};\n\nmodule.exports = {\n  extend: function (sequencerPrototype) {\n    sequencerPrototype.do = function (action) {\n      this.push(new DoTask(action));\n      return this;\n    };\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/extensions/do-extension.js","let DoWaitTask = function (duration) {\n  let timeout = null;\n  this.perform = function (handle) {\n    timeout = setTimeout(handle.release, duration);\n  };\n  this.cancel = function (handle) {\n    if (timeout !== null) clearTimeout(timeout);\n    handle.release();\n  };\n};\n\nmodule.exports = {\n  extend: function (sequencerPrototype) {\n    sequencerPrototype.doWait = function (duration) {\n      this.push(new DoWaitTask(duration));\n      return this;\n    };\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/extensions/do-wait-extension.js","let DoWaitForHandleTask = function (handleToWaitFor) {\n  this.perform = function (handle) {\n    if (handleToWaitFor.isReleased) {\n      handle.release();\n      return;\n    }\n    handleToWaitFor.addOnReleaseHandler(handle.release);\n  };\n  this.cancel = function (handle) {\n    handle.release();\n  };\n};\n\nmodule.exports = {\n  extend: function (sequencerPrototype) {\n    sequencerPrototype.doWaitForHandle = function (handleToWaitFor) {\n      this.push(new DoWaitForHandleTask(handleToWaitFor));\n      return this;\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/extensions/do-wait-for-handle-extension.js","// May require an ES6 promises polyfill such as \"es6-promise\", depending on the environment\n\nlet DoWaitForPromiseTask = function (promise, onFulfilled, onRejected) {\n  this.perform = function (handle) {\n    promise.then(function (value) {\n      if (typeof (onFulfilled) !== \"undefined\") onFulfilled(value);\n      handle.release();\n    }, function (reason) {\n      if (typeof (onRejected) !== \"undefined\") onRejected(reason);\n      handle.release();\n    });\n  };\n  this.cancel = function (handle) {\n    // Allows monkey-patching an ES6 promise with a cancel function that will\n    // automatically be invoked by the sequencer when it cancels this task.\n    // Details: http://stackoverflow.com/a/25346945/167983\n    if (typeof (promise.cancel) !== \"undefined\") promise.cancel();\n    handle.release();\n  };\n};\n\nmodule.exports = {\n  extend: function (sequencerPrototype) {\n    sequencerPrototype.doWaitForPromise = function (promise, onFulfilled, onRejected) {\n      this.push(new DoWaitForPromiseTask(promise, onFulfilled, onRejected));\n      return this;\n    };\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/extensions/do-wait-for-promise-extension.js","let DoWithHandleTask = function (action) {\n  this.perform = function (handle) {\n    action(handle);\n  };\n  this.cancel = function (handle) {\n    handle.release();\n  };\n};\n\nmodule.exports = {\n  extend: function (sequencerPrototype) {\n    sequencerPrototype.doWithHandle = function (action) {\n      this.push(new DoWithHandleTask(action));\n      return this;\n    };\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/extensions/do-with-handle-extension.js"],"sourceRoot":""}